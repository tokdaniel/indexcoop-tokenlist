import fs from 'node:fs';
import addressMap from './address-map.json';
import componentList from './components-list.json';
import { tokenlist } from '../../src';

const out = Array.from(new Set(componentList))
  .filter(
    (component) =>
      !tokenlist.tokens.find(
        ({ address: tokenAddress, chainId }) =>
          `${chainId}-${tokenAddress.toLowerCase()}` === component,
      ),
  )
  .map((component) => ({
    ...addressMap[component],
    component,
    tags: ['component'],
  }));

fs.writeFileSync('./components-token-list.json', JSON.stringify(out, null, 2));
